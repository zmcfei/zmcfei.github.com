
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TextMate 2 - xiaolai</title>
  <meta name="author" content="xiaolai">

  
  <meta name="description" content="官方下载链接
https://github.com/textmate/textmate/downloads Bundle目录
官方博客上说，TM2的Bundle目录是 ~/Library/Application Support/Avian/Pristine Copy/Bundles/ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://xiaolai.github.com/alpha/notes/TextMate2.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="xiaolai" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script src="/javascripts/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tableofcontents.min.js" type="text/javascript"></script>
<script type="text/javascript">
  // Revert jQuery's '$' alias, to avoid clashes with ender.js. NOTE: Use
  // jQuery(...), instead of $(...) from here on.
  jQuery.noConflict();
</script>
<script src="/javascripts/generate-toc.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1452494-20']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">am</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">xiaolai</a></h1>
  
    <h2>寓学于教: 教是最好的学习方法……</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:xiaolai.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
	<li><a href="/">博客</a></li>
  <li><a href="/blog/archives">归档</a></li>
	<li><a href="/alpha">阿尔法</a></li>
	<li><a href="http://wordpress.lixiaolai.com">老站存档</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">TextMate 2</h1>
    <p class="meta">








  


<time datetime="2012-09-23T13:59:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2012</time></p>
  </header>
  
	<div class="entry-content">
  <h1 id="section">官方下载链接</h1>
<p><a href="https://github.com/textmate/textmate/downloads">https://github.com/textmate/textmate/downloads</a></p>

<h1 id="bundle">Bundle目录</h1>
<p>官方博客上说，TM2的Bundle目录是</p>

<blockquote>
  <p>~/Library/Application Support/Avian/Pristine Copy/Bundles/</p>
</blockquote>

<p>令人困惑的是，以下目录也可用
&gt; ~/Library/Application Support/Avian/Bundles/</p>

<p>TextMate默认带的那些Bundles都放在以下目录中：</p>

<blockquote>
  <p>~/Library/Application Support/TextMate/Managed/Bundles</p>
</blockquote>

<p>可在TextMate中直接安装的，与Rails相关的Bundles:</p>

<blockquote>
  <ul>
    <li>RSpec</li>
    <li>Ruby</li>
    <li>Ruby Haml</li>
    <li>Ruby on Rails</li>
    <li>Ruby Sass</li>
    <li>Ruby Shoulda</li>
  </ul>
</blockquote>

<p>需要下载安装的Bundles:</p>

<blockquote>
  <ul>
    <li><a href="https://github.com/sergeche/zen-coding/downloads">Zen-Coding</a></li>
    <li><a href="https://github.com/carlosbrando/mongoid.tmbundle">Mongoid</a></li>
    <li><a href="https://github.com/vigo/textmate-octopress.tmbundle">OctoPress</a> (不用octopress写博客的话，就算了)</li>
    <li><a href="http://support.markedapp.com/kb/how-to-tips-and-tricks/marked-bonus-pack-scripts-commands-and-bundles">Marked</a> (Marked是收费的，TM原本的Preview也不错)</li>
    <li><a href="https://github.com/vigo/textmate-twitterbootstrap.tmbundle">Twitter Bootstrap</a></li>
  </ul>
</blockquote>

<h1 id="section-1">全局设置文件</h1>
<p>TM2可以自定一个全局设置，保存在~/.tm_properties文件中。可参考：<a href="https://gist.github.com/1478685">https://gist.github.com/1478685</a>。我的如下：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class="ini"><span class="line"><span class="c"># Settings</span>
</span><span class="line"><span class="na">fontName</span>             <span class="o">=</span> <span class="s">&quot;Menlo&quot;</span>
</span><span class="line"><span class="na">fontSize</span>             <span class="o">=</span> <span class="s">15</span>
</span><span class="line"><span class="na">softTabs</span>             <span class="o">=</span> <span class="s">true</span>
</span><span class="line"><span class="na">tabSize</span>              <span class="o">=</span> <span class="s">2</span>
</span><span class="line"><span class="na">projectDirectory</span>     <span class="o">=</span> <span class="s">&quot;$CWD&quot;</span>
</span><span class="line"><span class="na">windowTitle</span>          <span class="o">=</span> <span class="s">&quot;$TM_DIRECTORY/$TM_DISPLAYNAME - ${CWD/^.*\///}&quot;</span>
</span><span class="line"><span class="na">TM_ORGANIZATION_NAME</span> <span class="o">=</span> <span class="s">&#39;xiaolai&#39;</span>
</span><span class="line">
</span><span class="line"><span class="c"># Variables</span>
</span><span class="line"><span class="na">TM_GIT</span>           <span class="o">=</span> <span class="s">&quot;usr/local/bin/git&quot;</span>
</span><span class="line"><span class="na">TM_RUBY</span>          <span class="o">=</span> <span class="s">&quot;$HOME/.rvm/bin/rvm-auto-ruby&quot; #for rvm swithing rubies</span>
</span><span class="line">
</span><span class="line"><span class="k">[ .git/COMMIT_EDITMSG ]</span>
</span><span class="line"><span class="na">softWrap</span>         <span class="o">=</span> <span class="s">true</span>
</span><span class="line"><span class="na">spellChecking</span>    <span class="o">=</span> <span class="s">true</span>
</span><span class="line"><span class="na">spellingLanguage</span> <span class="o">=</span> <span class="s">&#39;en&#39;</span>
</span><span class="line">
</span><span class="line"><span class="k">[ text ]</span>
</span><span class="line"><span class="na">softWrap</span>         <span class="o">=</span> <span class="s">true</span>
</span><span class="line"><span class="na">spellChecking</span>    <span class="o">=</span> <span class="s">true</span>
</span><span class="line">
</span><span class="line"><span class="k">[ *.{icns,ico,jpg,jpeg,m4v,nib,pdf,png,psd,pyc,rtf,tif,tiff,xib} ]</span>
</span><span class="line"><span class="na">binary</span>           <span class="o">=</span> <span class="s">true</span>
</span><span class="line">
</span><span class="line"><span class="k">[ &quot;{README,INSTALL,LICENSE,TODO}&quot; ]</span>
</span><span class="line"><span class="na">fileType</span>         <span class="o">=</span> <span class="s">&quot;text.plain&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">[ &quot;{markdown,md}&quot; ]</span>
</span><span class="line"><span class="na">fileType</span>         <span class="o">=</span> <span class="s">&quot;Markdown&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="textmateruby">让TextMate使用正确的Ruby版本</h1>

<p>在<code>~/.tm_properties</code>文件中添加：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="ini"><span class="line"><span class="na">TM_RUBY</span> <span class="o">=</span> <span class="s">&quot;$HOME/.rvm/bin/rvm-auto-ruby&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>更多参见：<a href="https://rvm.io//integration/textmate/">https://rvm.io//integration/textmate/</a></p>

<p>在Terminal用<code>rvm list</code>命令查看当前使用的Ruby版本，而后用TexMate创建一个<code>.rb</code>文件，输入以下内容而后按 ⌘b，看看输出结果是不是与当前的ruby版本一致：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">puts RUBY_DESCRIPTION</span></code></pre></td></tr></table></div></figure></notextile></div>

<h1 id="x2303h">随时使用⌃h查看文档</h1>

<p>尽管很多教程都推荐在~/.gemrc里面添加如下内容：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="ini"><span class="line"><span class="err">install</span> <span class="err">--no-doc</span> <span class="err">--no-ri</span>
</span><span class="line"><span class="err">update</span> <span class="err">--no-doc</span> <span class="err">--no-ri</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>可新手最好不要这么做。如果你已经这么做了，那就 1) 清除<code>~/.gemrc</code>文件中的这两行； 2) 运行<code>gem install rdoc-data</code>重新加载文档。以后你就可以随时用⌃h查看文档，查询函数、类的方法属性之类……</p>

<h1 id="theme">安装Theme</h1>

<blockquote>
  <ul>
    <li><a href="https://github.com/Anomareh/Monokai-Dark.tmTheme">Monokai-Dark</a></li>
    <li><a href="https://github.com/deplorableword/textmate-solarized">Solarized</a></li>
  </ul>
</blockquote>

<h1 id="macro">Macro</h1>

<p>TM只能记录一个Macro，但也足够了，因为我只需要一个：</p>

<blockquote>
  <p>⌥⌘m、空格、空格、←、⌥⌘m</p>
</blockquote>

<p>如此这般之后，以后就可以用 ⇧⌘m在当前光标之前、之后各添加一个空格。比如这样：<code>{ | }</code>。</p>

<p>关于Macro，这里有个例子可以看：<a href="http://bundle.weblogzinc.com/video/macros-for-working-with-markdown-lists-in-textmate/">Macros for working with Markdown lists in TextMate</a>。</p>

<h1 id="section-2">视频教程</h1>

<p><a href="http://macromates.com/screencasts">http://macromates.com/screencasts</a></p>

<p>这个视频必看：<a href="http://macdevelopertips.com/wp-content/uploads/2008/06/textmate-comments.mov">Working with Comments</a>。另外，在这个视频里可以看到如何在TM中管理自己的TODO——实在是太方便了。</p>

<p>另外一个入门必看的是：<a href="http://screencasts.textmate.org/html_text_transformations.mov">Html text Transformation</a></p>

<h1 id="section-3">高级开关</h1>

<p><a href="http://manual.macromates.com/en/expert_preferences.html">http://manual.macromates.com/en/expert_preferences.html</a></p>

<p>说实话，基本上没什么大用处。</p>

<h1 id="section-4">1分钟体验快速输入</h1>

<h2 id="html-tags">输入html tags</h2>

<p>按⇧⌃⌥h，将当前文本的属性设置为<code>html</code>；</p>

<ul>
  <li>
    <p>⇧⌃w, 而后直接输入html tag，比如<code>h1</code>，而后再按⇥，光标会挪到<code>&lt;h1&gt;</code>和<code>&lt;/h1&gt;</code>之间</p>
  </li>
  <li>
    <p>Zen-Coding: 输入<code>div#content.left-pane&gt;ul&gt;li.item-list*5</code>而后按⌘e，这段代码会展开为：</p>
  </li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span> <span class="na">class=</span><span class="s">&quot;left-pane&quot;</span><span class="nt">&gt;</span>
</span><span class="line">  <span class="nt">&lt;ul&gt;</span>
</span><span class="line">    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item-list&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class="line">    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item-list&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class="line">    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item-list&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class="line">    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item-list&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class="line">    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;item-list&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
</span><span class="line">  <span class="nt">&lt;/ul&gt;</span>
</span><span class="line"><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>同时，光标会在<code>&lt;li class="item-list"&gt;</code>和<code>&lt;/li&gt;</code>之间，而接下来⇥或 ⇧⇥将使光标在<code>&lt;li&gt;&lt;/li&gt;</code>之间跨越。</p>

<ul>
  <li>输入<code>form</code>之后按⇥，将被展开为</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;TexMate2_submit&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span> <span class="na">accept-charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class="line">
</span><span class="line">
</span><span class="line">  <span class="nt">&lt;p&gt;&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;Continue &amp;rarr;&quot;</span><span class="nt">&gt;&lt;/p&gt;</span>
</span><span class="line"><span class="nt">&lt;/form&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <ul>
    <li>Zen-Coding的说明文件很短，1分钟就能看完：<a href="https://github.com/sergeche/zen-coding">https://github.com/sergeche/zen-coding</a></li>
    <li>这里有个演示视频：<a href="http://vimeo.com/7405114">http://vimeo.com/7405114</a></li>
    <li>这里有个更详细一点的教程：<a href="http://coding.smashingmagazine.com/2009/11/21/zen-coding-a-new-way-to-write-html-code/">Zen Coding: A speedy way to write html/css</a></li>
  </ul>
</blockquote>

<ul>
  <li>
    <p>在输入任何字符（英文）之后，按⎋，将被替换为当前文本中已经出现过的以此字母（或字母组合）为开头的词汇</p>
  </li>
  <li>
    <p>⌥⌘.将会补全当前尚未关闭的tag。</p>
  </li>
  <li>
    <p>将当前文字注释掉，用⌘/。（需要安装这个Bundle: <strong>Source</strong>)</p>
  </li>
</ul>

<h2 id="section-5">编辑多处文字</h2>

<ul>
  <li>选中一段文字（字、词、句、块）之后，按⌘再选其它文字，而后可同时修改这些文字。(安装CTags之后，这个快捷键会失灵……)</li>
  <li>选中多行文字，而后按一下⌥，光标将延伸到每一行，而后输入的内容将在每一行出现。用触摸板点击任何其它地方，将结束这种编辑模式。</li>
</ul>

<h1 id="cheatsheet">cheatsheet</h1>

<blockquote>
  <ul>
    <li><a href="https://sites.google.com/a/grayskies.net/www/textmate">https://sites.google.com/a/grayskies.net/www/textmate</a></li>
  </ul>
</blockquote>

<h1 id="finderterminal">与Finder/Terminal的交互</h1>

<h2 id="textmate">从命令行中找到一个目录并用TextMate打开该目录</h2>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">find ~/clients -type d -name &#39;goodie69&#39; -exec mate {} \;
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>via: <a href="http://www.givegoodweb.com/post/86/use-terminal-to-find-and-create-a-textmate-project">http://www.givegoodweb.com/post/86/use-terminal-to-find-and-create-a-textmate-project</a></p>

<p>将以下代码保存到<code>~/.bash_profile</code>中：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"># find in $directory where $name
</span><span class="line">fmate(){
</span><span class="line">  find $1 -type d -name $2 -exec mate {} \;
</span><span class="line">}
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="textmateterminalcd">在TextMate中打开Terminal并cd至当前文件所在目录</h2>

<p>快捷键为：⇧⌃o</p>

<h2 id="finderopen-in-textmate">在Finder工具栏上添加一个“Open in TextMate”按钮</h2>

<p><a href="http://henrik.nyh.se/2007/10/open-in-textmate-from-leopard-finder/">http://henrik.nyh.se/2007/10/open-in-textmate-from-leopard-finder/</a></p>

<p><img class="center" src="http://henrik.nyh.se/uploads/finder-leopard-tm.png" /></p>

<h1 id="drawer">在Drawer中显示某些特定的隐含文件</h1>

<p>Preferences &gt; Project &gt; Include files matching，改为：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">{*,.tm_properties,.htaccess,.gitignore,.rvmrc}
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>更多参见： <a href="https://gist.github.com/1028882">https://gist.github.com/1028882</a></p>

<p>在同一对话框中，可以将”Command output”改为<code>Right of text view</code>——这对使用宽屏的人有很大帮助。</p>

<h1 id="project">将当前打开的所有文件保存到一个Project中</h1>

<p><a href="http://allancraig.net/index.php?view=article&amp;id=110:textmate-make-project-from-open-file">TextMate: Make Project from Open Files</a></p>

<ul>
  <li>居然在这里找到另外一个好玩的东西：<a href="http://appscript.sourceforge.net">appscript</a></li>
</ul>

<h1 id="section-6">推荐教程</h1>

<blockquote>
  <ul>
    <li><a href="http://projects.serenity.de/textmate/tutorials/basics/">http://projects.serenity.de/textmate/tutorials/basics/</a></li>
    <li><a href="http://projects.serenity.de/textmate/tutorials/setup/">http://projects.serenity.de/textmate/tutorials/setup/</a></li>
  </ul>
</blockquote>

<h1 id="mac-os-x-terminal-cheat-sheet">Mac-OS-X terminal cheat-sheet</h1>

<p><a href="http://software.clapper.org/cheat-sheets/mac-os-x.html">http://software.clapper.org/cheat-sheets/mac-os-x.html</a></p>

<h1 id="section-7">替换图标</h1>

<p>在这里能找到若干个TextMate的图标：<a href="http://www.softicons.com/search?search=textmate">http://www.softicons.com/search?search=textmate</a></p>

<h1 id="erbcomment">为erb文件定制comment</h1>

<p>⌃⌥⌘b，打开“Edit Bundles”窗口，Ruby on Rails &gt; Settings，按⌘n，在Create对话框里选择”Settings”，为它取个名字，比如”Comment - Block”，Scope Selector里填写<code>text.html.erb.rails</code>，代码部分如下：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="p">{</span>	<span class="n">shellVariables</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="line">  <span class="p">{</span>	<span class="nb">name</span> <span class="o">=</span> <span class="s1">&#39;TM_COMMENT_START&#39;</span><span class="p">;</span>
</span><span class="line">		<span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;&lt;% if false %&gt;</span>
</span><span class="line"><span class="s1">&#39;</span><span class="p">;</span>
</span><span class="line">	<span class="p">},</span>
</span><span class="line">	<span class="p">{</span>	<span class="nb">name</span> <span class="o">=</span> <span class="s1">&#39;TM_COMMENT_END&#39;</span><span class="p">;</span>
</span><span class="line">		<span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;  </span>
</span><span class="line"><span class="s1">&lt;% end %&gt;&#39;</span><span class="p">;</span>
</span><span class="line">	<span class="p">},</span>
</span><span class="line">  <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>按⌘s保存。Done!</p>

<h1 id="bundle-1">如何创建自己的Bundle</h1>

<p><a href="http://recursive-design.com/blog/2010/09/30/how-to-create-a-textmate-bundle/">http://recursive-design.com/blog/2010/09/30/how-to-create-a-textmate-bundle/</a></p>

<h1 id="ruby-and-rails">Ruby and Rails开发</h1>

<p>最常用快捷键：</p>

<ul>
  <li>⌘+↩：保留光标后的符号（括号、引号之类）回车</li>
  <li>⌘+r：运行当前程序</li>
  <li>⇧+⌘+r：运行当前Rspec（使用前要确保安装了Rspec Bundle）</li>
  <li>⇧+⌃+⌘+e：执行光标所在语句</li>
  <li>⌃+⌘+⌥+p：预览当前markdown/html</li>
  <li>⌃+⌘+⌥+h：显示/隐藏输出板块</li>
  <li>⌃+⌘+⌥+d：显示/隐藏文件浏览器</li>
  <li>⇧+⌃+;：切换string/symbol</li>
</ul>

<p>在当前文件夹下创建文件：</p>

<ul>
  <li>⌥+⌘+n，而后⌘+s保存即可。</li>
</ul>

<h1 id="rubyamp">RubyAmp</h1>

<p><a href="https://github.com/timcharper/rubyamp">https://github.com/timcharper/rubyamp</a></p>

<p>screencast: <a href="http://code.google.com/p/ruby-amp/downloads/detail?name=RubyAMP.mov">http://code.google.com/p/ruby-amp/downloads/detail?name=RubyAMP.mov</a></p>

<h1 id="gem">查看Gem代码</h1>

<p>将以下脚本保存到<code>/usr/local/bin</code>目录：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="c">#!/bin/sh</span>
</span><span class="line">
</span><span class="line">usage<span class="o">()</span>
</span><span class="line"><span class="o">{</span>
</span><span class="line">     <span class="nb">echo</span> <span class="s2">&quot;Usage: $(basename $0) &lt;gem&gt;&quot;</span> 1&gt;&amp;2
</span><span class="line">     <span class="nb">exit </span>1
</span><span class="line"><span class="o">}</span>
</span><span class="line">
</span><span class="line"><span class="nv">GEM</span><span class="o">=</span><span class="s2">&quot;$1&quot;</span>
</span><span class="line">
</span><span class="line"><span class="o">[</span> -z <span class="s2">&quot;$GEM&quot;</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> usage
</span><span class="line">mate <span class="s2">&quot;$(gem environment gemdir)/gems/$GEM&quot;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>并将其设置为“可执行脚本”：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line">chmod +x /usr/local/bin/mategem
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>在<code>~/.bash_profile</code>文件中加入以下内容：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line">_mategem<span class="o">()</span>
</span><span class="line"><span class="o">{</span>
</span><span class="line">    <span class="nb">local </span>curw
</span><span class="line">    <span class="nv">COMPREPLY</span><span class="o">=()</span>
</span><span class="line">    <span class="nv">curw</span><span class="o">=</span><span class="k">${</span><span class="nv">COMP_WORDS</span><span class="p">[COMP_CWORD]</span><span class="k">}</span>
</span><span class="line">    <span class="nb">local </span><span class="nv">gems</span><span class="o">=</span><span class="s2">&quot;$(gem environment gemdir)/gems&quot;</span>
</span><span class="line">    <span class="nv">COMPREPLY</span><span class="o">=(</span><span class="k">$(</span><span class="nb">compgen</span> -W <span class="s1">&#39;$(ls $gems)&#39;</span> -- <span class="nv">$curw</span><span class="k">)</span><span class="o">)</span>;
</span><span class="line">    <span class="k">return </span>0
</span><span class="line"><span class="o">}</span>
</span><span class="line"><span class="nb">complete</span> -F _mategem -o dirnames mategem
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>而后重新载入<code>~/.bash_profile</code>：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="nb">source</span> ~/.bash_profile
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>以后就可以输入“mategem bootstrap ⇥” 而后得到<code>mategem bootstrap-sass-2.1.1.0</code>……超级方便！</p>

<p>(learned from <a href="http://effectif.com/mac-os-x/textmate/opening-ruby-gems-in-textmate">http://effectif.com/mac-os-x/textmate/opening-ruby-gems-in-textmate</a>)</p>


	</div>
  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2012-09-23T13:59:00+08:00" pubdate data-updated="true">Sep 23<span>rd</span>, 2012</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://xiaolai.github.com/alpha/notes/TextMate2.html" data-via="xiaolai" data-counturl="http://xiaolai.github.com/alpha/notes/TextMate2.html" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About Me</h1>
	just another life-long learner ...
</section>

<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/xiaolai?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/xiaolai">My Delicious Bookmarks &raquo;</a></p>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/23/on-training-of-teaching-sat-toefl/">关于TOEFL/SAT教师培训（2013）</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/06/ang-lee-told-a-disgusting-version-of-a-story/">李安讲了一个下流的故事</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/01/yong-shen-cha-zhi-du-wei-ji-de-li-yi-zhe-bian-hu-shi-bu-hou-dao-de/">用审查制度为既得利益者辩护是不厚道的</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/08/sharing-location-on-ios/">使用iPhone共享当前位置</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/02/on-plagiarism/">关于剽窃</a>
      </li>
    
  </ul>
</section>

	
		<a href="http://twitter.com/xiaolai" class="twitter-follow-button" data-show-count="true">Follow @xiaolai</a>
	

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - xiaolai -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'xiaolaigithub';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://xiaolai.github.com/alpha/notes/TextMate2.html';
        var disqus_url = 'http://xiaolai.github.com/alpha/notes/TextMate2.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



  <script type="text/javascript">
  jQuery(document).ready(function() {
    // Put a TOC right before the entry content.
    generateTOC('.entry-content', 'Table of Contents');
  });
  </script>


</body>
</html>
