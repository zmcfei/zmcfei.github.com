---
layout: post
title: ##技术总结与回忆
categories:
- Programming Review
tags:
- 搜索引擎
---
---------

一淘搜索全貌
=====================
一淘是整个啊里的搜索技术支持。

-------


系统
---------
啊里整个搜索引擎可以分为四个部分。  
1. **引擎在线系统**数千台服务器中美两地部署  
2. **Hadoop/Hbase离线集群**规模和应用方式业界领先  
3. **商品快速更新**能做到淘系/B2C商品信息变化在100s内更新到引擎  
4. **平台化/集中运维**全系统平台化，开发成功共享，统一集中管理。

一淘搜索从2010年起步，到2011年部署hadoop/HBase（150台）到2013年的330台集群，更新率99.04%。

好了说了这么非技术的东西，现在上一个一淘搜索系统系统图
![enter image description here][1]  

从上图可以看出，存储系统的数据来源是分为外网抓取和淘宝商品库直接导入得来的。
有了大数据，下一步是进行“大数据处理”，接下来就是建立索引进行搜索了。

![enter image description here][2]  

好的，如上图所示，我们可以看到，淘宝的海量数据产品技术架构，分为以下五个层次，从上至下来看，它们分别是：数据源，计算层，存储层，查询层和产品层。
这就是淘宝整个系统架构。

####我重点了解了  
QP： query planer 的作用。它是负责前台与后台传话。  
Forest 内幕属性转化模块（主要负责前台的文本信息转换成数字标签）。
>用户输入查询词后，qp经过一定的分析，解析出后台应该可以识别的词。
>这样Forest就可以将这些词，抓换成数字查询（数据库里商品的属性都是用数字来存储的，而建立这些数字与文字的对应关系的模块就是forest）。
>转换的原因很容易想到，是因为数据库里面对整型数字的操作速度要方便快捷。
  [1]: http://lgo.me/images/2013/08/29/IMG_20130827_103801.jpg
  [2]: http://hi.csdn.net/attachment/201108/20/0_1313816866b9b9.gif
